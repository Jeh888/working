@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== THEME VARIABLES ===== */
:root {
  --bg-primary: #0a0e17;
  --bg-secondary: #111827;
  --bg-card: #151c2c;
  --bg-hover: #1a2235;
  --border-primary: #1e293b;
  --border-secondary: #2d3748;
  --text-primary: #f1f5f9;
  --text-secondary: #94a3b8;
  --text-muted: #64748b;
}

/* Light mode variables */
[data-theme="light"] {
  --bg-primary: #f8fafc;
  --bg-secondary: #f1f5f9;
  --bg-card: #ffffff;
  --bg-hover: #e2e8f0;
  --border-primary: #e2e8f0;
  --border-secondary: #cbd5e1;
  --text-primary: #0f172a;
  --text-secondary: #475569;
  --text-muted: #64748b;
}

* { box-sizing: border-box; }
body { 
  font-family: 'Inter', system-ui, sans-serif; 
  background: var(--bg-primary); 
  color: var(--text-primary); 
  -webkit-font-smoothing: antialiased;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* ===== TYPOGRAPHY ===== */
.font-display { font-family: 'Space Grotesk', system-ui, sans-serif; }

/* Gradient text */
.gradient-text {
  background: linear-gradient(135deg, #60a5fa 0%, #34d399 50%, #a78bfa 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ===== ANIMATIONS ===== */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
.float { animation: float 6s ease-in-out infinite; }
.float-delay { animation: float 6s ease-in-out infinite; animation-delay: -3s; }

@keyframes shimmer {
  0% { background-position: 0% 50%; }
  100% { background-position: 300% 50%; }
}

@keyframes pulse-ring {
  0% { transform: scale(0.8); opacity: 0.8; }
  100% { transform: scale(1.4); opacity: 0; }
}

/* ===== INTERACTIVE ELEMENTS ===== */
/* Card with gradient border on hover */
.gradient-border {
  position: relative;
  background: var(--bg-card);
  border-radius: 16px;
  border: 1px solid var(--border-primary);
}
.gradient-border::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 17px;
  padding: 1px;
  background: linear-gradient(135deg, #3b82f6, #10b981, #8b5cf6);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}
.gradient-border:hover::before {
  opacity: 1;
}

/* Card lift effect */
.card-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card-lift:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.3);
}

/* Glowing button */
.btn-glow {
  position: relative;
  overflow: hidden;
}
.btn-glow::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: linear-gradient(90deg, #3b82f6, #10b981, #8b5cf6, #3b82f6);
  background-size: 300% 100%;
  border-radius: inherit;
  z-index: -1;
  animation: shimmer 3s linear infinite;
  opacity: 0;
  transition: opacity 0.3s ease;
}
.btn-glow:hover::before {
  opacity: 1;
}

/* Icon hover effects */
.icon-spin:hover svg {
  transform: rotate(12deg) scale(1.1);
}
.icon-spin svg {
  transition: transform 0.3s ease;
}

/* Icon glow */
.icon-glow {
  position: relative;
}
.icon-glow::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: inherit;
  filter: blur(12px);
  opacity: 0.5;
  z-index: -1;
}

/* Search box focus */
.search-glow {
  transition: box-shadow 0.3s ease, border-color 0.3s ease;
}
.search-glow:focus-within {
  box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15), 0 20px 40px -15px rgba(0, 0, 0, 0.3);
  border-color: #3b82f6 !important;
}

/* Stat card */
.stat-card-new {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%);
  border: 1px solid rgba(59, 130, 246, 0.2);
  transition: all 0.3s ease;
}
.stat-card-new:hover {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(16, 185, 129, 0.2) 100%);
  border-color: rgba(59, 130, 246, 0.4);
}

/* ===== DROPDOWN MENU ===== */
.dropdown-menu {
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease;
}
.dropdown:hover .dropdown-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* ===== THEME TOGGLE ===== */
.theme-toggle-icon {
  transition: transform 0.3s ease, opacity 0.3s ease;
}
[data-theme="light"] .theme-icon-sun {
  transform: rotate(0deg) scale(1);
  opacity: 1;
}
[data-theme="light"] .theme-icon-moon {
  transform: rotate(90deg) scale(0);
  opacity: 0;
}
[data-theme="dark"] .theme-icon-sun,
:root:not([data-theme]) .theme-icon-sun {
  transform: rotate(-90deg) scale(0);
  opacity: 0;
}
[data-theme="dark"] .theme-icon-moon,
:root:not([data-theme]) .theme-icon-moon {
  transform: rotate(0deg) scale(1);
  opacity: 1;
}

/* Light mode specific overrides */
[data-theme="light"] .gradient-border {
  background: var(--bg-card);
}
[data-theme="light"] body {
  background: var(--bg-primary);
}

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg-secondary); }
::-webkit-scrollbar-thumb { background: var(--border-secondary); border-radius: 3px; }

.card { background: var(--bg-card); border: 1px solid var(--border-primary); border-radius: 16px; transition: all 0.2s; }
.card:hover { border-color: var(--border-secondary); }
.card-warning { background: linear-gradient(135deg, rgba(239,68,68,0.08), rgba(249,115,22,0.05)); border-color: rgba(239,68,68,0.3); }
.card-success { background: linear-gradient(135deg, rgba(16,185,129,0.08), rgba(6,182,212,0.05)); border-color: rgba(16,185,129,0.3); }

.tab { padding: 10px 20px; font-size: 14px; font-weight: 500; color: var(--text-muted); border-radius: 10px; cursor: pointer; white-space: nowrap; transition: all 0.2s; }
.tab:hover { color: var(--text-secondary); background: rgba(255,255,255,0.03); }
.tab-active { color: white; background: #3b82f6; }

.badge { display: inline-flex; align-items: center; padding: 4px 12px; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; border-radius: 6px; }
.badge-green { background: rgba(16,185,129,0.15); color: #34d399; border: 1px solid rgba(16,185,129,0.3); }
.badge-yellow { background: rgba(245,158,11,0.15); color: #fbbf24; border: 1px solid rgba(245,158,11,0.3); }
.badge-orange { background: rgba(249,115,22,0.15); color: #fb923c; border: 1px solid rgba(249,115,22,0.3); }
.badge-red { background: rgba(239,68,68,0.15); color: #f87171; border: 1px solid rgba(239,68,68,0.3); }
.badge-blue { background: rgba(59,130,246,0.15); color: #60a5fa; border: 1px solid rgba(59,130,246,0.3); }
.badge-cyan { background: rgba(6,182,212,0.15); color: #22d3ee; border: 1px solid rgba(6,182,212,0.3); }
.badge-purple { background: rgba(139,92,246,0.15); color: #a78bfa; border: 1px solid rgba(139,92,246,0.3); }
.badge-gray { background: rgba(100,116,139,0.15); color: #94a3b8; border: 1px solid rgba(100,116,139,0.3); }

.risk-low { background: rgba(16,185,129,0.15); color: #34d399; }
.risk-moderate { background: rgba(245,158,11,0.15); color: #fbbf24; }
.risk-high { background: rgba(239,68,68,0.15); color: #f87171; }
.risk-critical { background: rgba(239,68,68,0.25); color: #fca5a5; animation: pulse 2s infinite; }

.violation-a { background: rgba(59,130,246,0.2); color: #60a5fa; }
.violation-b { background: rgba(245,158,11,0.2); color: #fbbf24; }
.violation-c { background: rgba(239,68,68,0.2); color: #f87171; }

.stat-red { box-shadow: inset 0 0 40px rgba(239,68,68,0.05); border-color: rgba(239,68,68,0.2); }
.stat-orange { box-shadow: inset 0 0 40px rgba(249,115,22,0.05); border-color: rgba(249,115,22,0.2); }
.stat-blue { box-shadow: inset 0 0 40px rgba(59,130,246,0.05); border-color: rgba(59,130,246,0.2); }
.stat-green { box-shadow: inset 0 0 40px rgba(16,185,129,0.05); border-color: rgba(16,185,129,0.2); }
.stat-purple { box-shadow: inset 0 0 40px rgba(139,92,246,0.05); border-color: rgba(139,92,246,0.2); }
.stat-yellow { box-shadow: inset 0 0 40px rgba(245,158,11,0.05); border-color: rgba(245,158,11,0.2); }

.progress-bar { height: 8px; background: var(--bg-secondary); border-radius: 4px; overflow: hidden; }
.progress-fill { height: 100%; border-radius: 4px; transition: width 0.8s ease-out; }

.score-ring { transform: rotate(-90deg); transform-origin: center; }

.autocomplete-dropdown { position: absolute; top: 100%; left: 0; right: 0; background: var(--bg-card); border: 1px solid var(--border-secondary); border-radius: 12px; margin-top: 8px; max-height: 380px; overflow-y: auto; z-index: 100; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
.autocomplete-item { padding: 14px 18px; cursor: pointer; border-bottom: 1px solid var(--border-primary); transition: background 0.15s; }
.autocomplete-item:last-child { border-bottom: none; }
.autocomplete-item:hover, .autocomplete-item.selected { background: var(--bg-hover); }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
.animate-fade-in { animation: fadeIn 0.5s ease-out; }
.animate-slide-up { animation: slideUp 0.4s ease-out; }

.timeline-item { position: relative; padding-left: 24px; }
.timeline-item::before { content: ''; position: absolute; left: 0; top: 8px; width: 10px; height: 10px; border-radius: 50%; background: var(--border-secondary); }
.timeline-item::after { content: ''; position: absolute; left: 4px; top: 20px; bottom: -12px; width: 2px; background: var(--border-primary); }
.timeline-item:last-child::after { display: none; }
.timeline-item.severity-high::before { background: #ef4444; }
.timeline-item.severity-medium::before { background: #f59e0b; }
.timeline-item.severity-low::before { background: #3b82f6; }

.recharts-text { fill: var(--text-muted) !important; font-size: 11px !important; }
.recharts-cartesian-grid-horizontal line, .recharts-cartesian-grid-vertical line { stroke: var(--border-primary) !important; }

/* Blog content styling (scoped) */
.blog-content { color: var(--text-primary); line-height: 1.75; }
.blog-content p { color: var(--text-secondary); margin: 0.9rem 0; }
.blog-content strong, .blog-content b { color: var(--text-primary); }
.blog-content em, .blog-content i { color: var(--text-primary); }
.blog-content h1, .blog-content h2 { color: var(--text-primary); font-weight: 800; margin: 1.8rem 0 0.8rem; line-height: 1.2; }
.blog-content h3 { color: var(--text-primary); font-weight: 800; margin: 1.4rem 0 0.6rem; line-height: 1.25; }
.blog-content h4 { color: var(--text-primary); font-weight: 700; margin: 1.1rem 0 0.5rem; line-height: 1.25; }
.blog-content ul, .blog-content ol { margin: 0.9rem 0 0.9rem 1.2rem; color: var(--text-secondary); }
.blog-content li { margin: 0.35rem 0; }
.blog-content a { color: #60a5fa; text-decoration: underline; text-underline-offset: 3px; }
.blog-content img { max-width: 100%; height: auto; border-radius: 16px; border: 1px solid var(--border-primary); margin: 1.2rem 0; }
.blog-content table { width: 100%; border-collapse: collapse; margin: 1.2rem 0; overflow: hidden; border-radius: 14px; border: 1px solid var(--border-primary); }
.blog-content thead th { background: rgba(255,255,255,0.04); color: var(--text-primary); font-weight: 700; text-align: left; }
.blog-content th, .blog-content td { padding: 10px 12px; border-bottom: 1px solid var(--border-primary); vertical-align: top; color: var(--text-secondary); }
.blog-content tr:last-child td { border-bottom: none; }
.blog-content blockquote { border-left: 3px solid var(--border-secondary); padding-left: 14px; color: var(--text-secondary); margin: 1rem 0; }
